<!--
  ~ Copyright 2018 EMBL - European Bioinformatics Institute
  ~ Licensed under the Apache License, Version 2.0 (the "License"); you may not use this
  ~ file except in compliance with the License. You may obtain a copy of the License at
  ~ http://www.apache.org/licenses/LICENSE-2.0
  ~ Unless required by applicable law or agreed to in writing, software distributed under the
  ~ License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
  ~ CONDITIONS OF ANY KIND, either express or implied. See the License for the
  ~ specific language governing permissions and limitations under the License.
  -->

<div class="component-margin">

  <div fxFlex>
    <div fxLayout="row">
      <div fxFlex="100%">
        <p>
          Use this page to request changes to records that can't be updated by any other means.
        </p>
        <p>
          You can request updates to your own records or report errors in other submitters' records.
          Keeping records up to date is the sole responsibility of their owners.
          Record owners are the original submitters and all the co-authors of the associated citation(s).
        </p>
        <p>
          Please fill all of the fields below and then click the Submit button.
        </p>
      </div>
    </div>
    <div fxLayout="row">
      <div fxFlex.gt-xs="600px">
        <div fxLayout="column">

          <mat-form-field class="app-field-padding">
              <input matInput placeholder="Accession numbers(s)" [(ngModel)]="id" required>
-            <mat-error *ngIf="!id">Please provide one or more accession numbers</mat-error>
          </mat-form-field>

          <mat-form-field class="app-field-padding">
            <mat-select placeholder="Confidentiality status" [(ngModel)]="status" required>
              <mat-option value="public">
                Records are public
              </mat-option>
              <mat-option value="private">
                Records are private
              </mat-option>
            </mat-select>
            <mat-error *ngIf="!status">Please select a value from the drop down</mat-error>
          </mat-form-field>

          <mat-form-field class="app-field-padding">
            <mat-select placeholder="Editorial authority" [(ngModel)]="authority" required>
              <mat-option value="original submitter">
                I am the original submitter of the records
              </mat-option>
              <mat-option value="co-author">
                I am a co-author cited in the records
              </mat-option>
              <mat-option value="third party">
                I am a third party suggesting an update to someone else's records
              </mat-option>
            </mat-select>
            <mat-error *ngIf="!authority">Please select a value from the drop down</mat-error>
          </mat-form-field>

          <mat-form-field class="app-field-padding">
            <mat-select placeholder="Update refers to" [(ngModel)]="affects" required>
              <mat-option value="organism">
                Sample organism
              </mat-option>
              <mat-option value="source">
                Sample source
              </mat-option>
              <mat-option value="citation">
                Citation
              </mat-option>
              <mat-option value="sequence">
                Sequence
              </mat-option>
              <mat-option value="sequence annotation">
                Sequence annotation
              </mat-option>
              <mat-option value="sequence keyword">
                Sequence keyword
              </mat-option>
              <mat-option value="sequence comment">
                Sequence comment
              </mat-option>
              <mat-option value="other">
                Other
              </mat-option>
            </mat-select>
            <mat-error *ngIf="!affects">Please select a value from the drop down</mat-error>
          </mat-form-field>

          <mat-form-field>
            <textarea matInput placeholder="Reason for change" [(ngModel)]="reason" required></textarea>
            <mat-error *ngIf="!reason">Please provide reason for change</mat-error>
          </mat-form-field>

          <mat-form-field>
            <textarea matInput placeholder="Current field value" [(ngModel)]="currentValue" required></textarea>
            <mat-error *ngIf="!currentValue">Please provide current field value</mat-error>
          </mat-form-field>

          <mat-form-field>
            <textarea matInput placeholder="Proposed field value" [(ngModel)]="newValue" required></textarea>
            <mat-error *ngIf="!newValue">Please provide proposed field value</mat-error>
          </mat-form-field>
        </div>
      </div>
    </div>
    <div fxLayout="row">
      <button mat-raised-button color="accent" (click)="submit()" [disabled]="!canSubmit()" >Submit</button>
    </div>
  </div>

</div> <!-- component-margin -->
